ì¢‹ì•„ìš”. ì•„ë˜ëŠ” **â€œTwelve Data API ì‹¤ì „ ì‚¬ìš© ë§¤ë‰´ì–¼ (ì½”ë”© ì ìš©ìš©)â€**ì…ë‹ˆë‹¤.
ğŸ‘‰ *ì§€ê¸ˆ ë§Œë“¤ê³  ìˆëŠ” ì£¼ì‹ ì°¨íŠ¸/í¬íŠ¸í´ë¦¬ì˜¤ ì›¹ì•±ì— ë°”ë¡œ ë¶™ì¼ ìˆ˜ ìˆëŠ” ìˆ˜ì¤€*ìœ¼ë¡œ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.

---

# ğŸ“˜ Twelve Data API ì‚¬ìš© ë§¤ë‰´ì–¼ (ê°œë°œììš©)

## 1. ì–¸ì œ Twelve Dataë¥¼ ì“°ëŠ”ê°€

ë‹¤ìŒ ì¡°ê±´ì´ë©´ Twelve Dataê°€ **ë¬´ë£Œ ëŒ€ë¹„ ìµœê³  íš¨ìœ¨**ì…ë‹ˆë‹¤.

* ë¯¸êµ­ ì£¼ì‹ ì‹¤ì‹œê°„/ê·¼ì‹¤ì‹œê°„ ê°€ê²©
* ìº”ë“¤ ì°¨íŠ¸ (1ë¶„~1ì¼)
* ê°œì¸ í”„ë¡œì íŠ¸ / MVP / í”„ë¡œí† íƒ€ì…
* ë¹„ìš© 0ì› ìœ ì§€

---

## 2. ê¸°ë³¸ ê°œë… ì •ë¦¬ (ì¤‘ìš”)

### ğŸ”‘ API Key

* ëª¨ë“  ìš”ì²­ì— `apikey` í•„ìˆ˜
* **ì ˆëŒ€ í”„ë¡ íŠ¸ì—”ë“œì— ì§ì ‘ ë…¸ì¶œ X**
* ì„œë²„(API Route)ì—ì„œ í˜¸ì¶œ ê¶Œì¥

### ğŸ“Š Credit ê°œë…

* ë¬´ë£Œ í”Œëœ ê¸°ì¤€

  * **ë¶„ë‹¹ 8 credits**
  * **í•˜ë£¨ 800 credits**
* ëŒ€ë¶€ë¶„ì˜ APIëŠ” **1 í˜¸ì¶œ = 1 credit**
* `time_series`ëŠ” íŒŒë¼ë¯¸í„°ì— ë”°ë¼ ë” ì†Œëª¨ë  ìˆ˜ ìˆìŒ

â¡ï¸ **ìºì‹œ í•„ìˆ˜ (1~5ë¶„)**

---

## 3. ê°€ì¥ ë§ì´ ì“°ëŠ” API 4ì¢…

### â‘  í˜„ì¬ ê°€ê²© (Quote)

```http
GET https://api.twelvedata.com/quote
```

**ìš©ë„**

* í˜„ì¬ê°€
* ì „ì¼ ëŒ€ë¹„ ë“±ë½
* ì¢…ëª© í—¤ë” ì •ë³´

**ì˜ˆì‹œ**

```bash
https://api.twelvedata.com/quote?symbol=AAPL&apikey=KEY
```

**ì‘ë‹µ í•µì‹¬ í•„ë“œ**

```json
{
  "symbol": "AAPL",
  "price": "193.42",
  "change": "-1.23",
  "percent_change": "-0.63",
  "open": "195.00",
  "high": "196.10",
  "low": "192.80"
}
```

---

### â‘¡ ìº”ë“¤ ì°¨íŠ¸ (Time Series)

```http
GET https://api.twelvedata.com/time_series
```

**ìš©ë„**

* ì°¨íŠ¸ì˜ í•µì‹¬
* ì¼ë´‰ / ë¶„ë´‰ / ì£¼ë´‰

**ì£¼ìš” íŒŒë¼ë¯¸í„°**

| íŒŒë¼ë¯¸í„°       | ì„¤ëª…                     |
| ---------- | ---------------------- |
| symbol     | ì¢…ëª©                     |
| interval   | `1min`, `5min`, `1day` |
| outputsize | ìº”ë“¤ ê°œìˆ˜                  |
| timezone   | `America/New_York`     |

**ì˜ˆì‹œ**

```bash
https://api.twelvedata.com/time_series?symbol=AAPL&interval=1day&outputsize=100&apikey=KEY
```

**ì‘ë‹µ êµ¬ì¡°**

```json
{
  "values": [
    {
      "datetime": "2025-12-12",
      "open": "194.2",
      "high": "196.3",
      "low": "193.1",
      "close": "193.4",
      "volume": "53123421"
    }
  ]
}
```

---

### â‘¢ ì—¬ëŸ¬ ì¢…ëª© í•œ ë²ˆì— (ë©€í‹° ì‹¬ë³¼)

```http
GET https://api.twelvedata.com/quote?symbol=AAPL,MSFT,GOOGL
```

**ì¥ì **

* ì¢…ëª©ë³„ í˜¸ì¶œ ì¤„ì„ â†’ credit ì ˆì•½
* í¬íŠ¸í´ë¦¬ì˜¤ í˜ì´ì§€ì— ìµœì 

---

### â‘£ ì‹¬ë³¼ ê²€ìƒ‰ (ìë™ì™„ì„±)

```http
GET https://api.twelvedata.com/symbol_search
```

**ì˜ˆì‹œ**

```bash
https://api.twelvedata.com/symbol_search?symbol=tesla&apikey=KEY
```

---

## 4. Next.js ê¸°ì¤€ ì‹¤ì œ ì½”ë“œ ì ìš©

### 4-1. í™˜ê²½ë³€ìˆ˜

```bash
# .env.local
TWELVEDATA_API_KEY=your_api_key
```

---

### 4-2. API Route (í”„ë¡ì‹œ + í‚¤ ë³´í˜¸)

```ts
// app/api/stock/quote/route.ts
import { NextResponse } from 'next/server';

export async function GET(req: Request) {
  const { searchParams } = new URL(req.url);
  const symbol = searchParams.get('symbol');

  const res = await fetch(
    `https://api.twelvedata.com/quote?symbol=${symbol}&apikey=${process.env.TWELVEDATA_API_KEY}`,
    { next: { revalidate: 60 } } // 60ì´ˆ ìºì‹œ
  );

  const data = await res.json();
  return NextResponse.json(data);
}
```

---

### 4-3. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í˜¸ì¶œ

```ts
const res = await fetch(`/api/stock/quote?symbol=AAPL`);
const data = await res.json();
```

â¡ï¸ **ì´ êµ¬ì¡°ê°€ ì œì¼ ì•ˆì „ + íš¨ìœ¨ì **

---

## 5. ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ì—°ê²° (ì˜ˆ: TradingView / Recharts)

### ìº”ë“¤ ë°ì´í„° ë³€í™˜ ì˜ˆì‹œ

```ts
const candles = data.values.map(v => ({
  time: new Date(v.datetime).getTime() / 1000,
  open: Number(v.open),
  high: Number(v.high),
  low: Number(v.low),
  close: Number(v.close),
}));
```

---

## 6. ë¬´ë£Œ í”Œëœì—ì„œ ë°˜ë“œì‹œ ì§€ì¼œì•¼ í•  ê·œì¹™

### âœ… DO

* 1~5ë¶„ ìºì‹œ
* ë©€í‹° ì‹¬ë³¼ ì‚¬ìš©
* í•„ìš”í•  ë•Œë§Œ í˜¸ì¶œ

### âŒ DON'T

* í˜ì´ì§€ ë¡œë“œë§ˆë‹¤ API í˜¸ì¶œ
* í”„ë¡ íŠ¸ì—ì„œ ì§ì ‘ í˜¸ì¶œ
* ì‹¤ì‹œê°„(ì´ˆ ë‹¨ìœ„) ê°±ì‹ 

---

## 7. ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´ (ì¤‘ìš”)

```ts
if (data.status === 'error') {
  console.error(data.message);
  // fallback: ë§ˆì§€ë§‰ ìºì‹œ ë°ì´í„° ì‚¬ìš©
}
```

ìì£¼ ë‚˜ì˜¤ëŠ” ì—ëŸ¬:

* `API limit reached`
* `Invalid API key`
* `Symbol not supported`

---

## 8. ì¶”ì²œ ì•„í‚¤í…ì²˜ ìš”ì•½

```
[Client]
   â†“
[Next.js API Route]
   â†“ (ìºì‹œ)
[Twelve Data]
```

â¡ï¸ ë‚˜ì¤‘ì— **Finnhub / ìœ ë£Œ APIë¡œ êµì²´í•´ë„ êµ¬ì¡° ê·¸ëŒ€ë¡œ ìœ ì§€ ê°€ëŠ¥**

---

## 9. ë‹¤ìŒ ë‹¨ê³„ ì¶”ì²œ

ì›í•˜ì‹œë©´ ë°”ë¡œ ì´ì–´ì„œ:
1ï¸âƒ£ **ì£¼ì‹ ì°¨íŠ¸ ì „ìš© ë°ì´í„° Provider ì¶”ìƒí™” ì½”ë“œ**
2ï¸âƒ£ **í¬íŠ¸í´ë¦¬ì˜¤ ì†ìµ ê³„ì‚° ë¡œì§ (ë§¤ìˆ˜ê°€ ê¸°ì¤€)**
3ï¸âƒ£ **Supabase + ì‚¬ìš©ìë³„ ìºì‹œ êµ¬ì¡°**

ì¤‘ì—ì„œ ë­ë¶€í„° í• ì§€ ë§í•´ì¤˜.
